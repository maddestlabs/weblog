var d;d||=typeof Module != 'undefined' ? Module : {};var aa=globalThis.document?.currentScript?.src,n="",p;try{n=(new URL(".",aa)).href}catch{}p=async a=>{a=await fetch(a,{credentials:"same-origin"});if(a.ok)return a.arrayBuffer();throw Error(a.status+" : "+a.url);};var q=console.log.bind(console),u=console.error.bind(console),v,w=!1,x,y,z,A,B;
function C(){var a=D.buffer;y=new Int8Array(a);new Int16Array(a);z=new Uint8Array(a);new Uint16Array(a);new Int32Array(a);A=new Uint32Array(a);new Float32Array(a);new Float64Array(a);B=new BigInt64Array(a);new BigUint64Array(a)}function E(a){d.onAbort?.(a);a="Aborted("+a+")";u(a);w=!0;throw new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info.");}var F;
async function ba(a){if(!v)try{var c=await p(a);return new Uint8Array(c)}catch{}if(a==F&&v)a=new Uint8Array(v);else throw"both async and sync fetching of the wasm failed";return a}async function ca(a,c){try{var b=await ba(a);return await WebAssembly.instantiate(b,c)}catch(e){u(`failed to asynchronously prepare wasm: ${e}`),E(e)}}
async function da(a){var c=F;if(!v)try{var b=fetch(c,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(b,a)}catch(e){u(`wasm streaming compile failed: ${e}`),u("falling back to ArrayBuffer instantiation")}return ca(c,a)}class G{name="ExitStatus";constructor(a){this.message=`Program terminated with exit(${a})`;this.status=a}}
var H=a=>{for(;0<a.length;)a.shift()(d)},ea=[],fa=[],ha=()=>{var a=d.preRun.shift();fa.push(a)},I=0,J=null,K=!0,L=0,M={},ia=a=>{if(!(a instanceof G||"unwind"==a))throw a;},N=a=>{x=a;K||0<L||(d.onExit?.(a),w=!0);throw new G(a);},ja=a=>{if(!w)try{if(a(),!(K||0<L))try{x=a=x,N(a)}catch(c){ia(c)}}catch(c){ia(c)}},ka=[null,[],[]],la=globalThis.TextDecoder&&new TextDecoder,O=(a,c=0,b,e)=>{var f=c;b=f+b;if(e)e=b;else{for(;a[f]&&!(f>=b);)++f;e=f}if(16<e-c&&a.buffer&&la)return la.decode(a.subarray(c,e));for(f=
"";c<e;)if(b=a[c++],b&128){var h=a[c++]&63;if(192==(b&224))f+=String.fromCharCode((b&31)<<6|h);else{var g=a[c++]&63;b=224==(b&240)?(b&15)<<12|h<<6|g:(b&7)<<18|h<<12|g<<6|a[c++]&63;65536>b?f+=String.fromCharCode(b):(b-=65536,f+=String.fromCharCode(55296|b>>10,56320|b&1023))}}else f+=String.fromCharCode(b);return f},P=a=>{for(var c=0,b=0;b<a.length;++b){var e=a.charCodeAt(b);127>=e?c++:2047>=e?c+=2:55296<=e&&57343>=e?(c+=4,++b):c+=3}return c},Q=(a,c,b)=>{var e=z;if(!(0<b))return 0;var f=c;b=c+b-1;for(var h=
0;h<a.length;++h){var g=a.codePointAt(h);if(127>=g){if(c>=b)break;e[c++]=g}else if(2047>=g){if(c+1>=b)break;e[c++]=192|g>>6;e[c++]=128|g&63}else if(65535>=g){if(c+2>=b)break;e[c++]=224|g>>12;e[c++]=128|g>>6&63;e[c++]=128|g&63}else{if(c+3>=b)break;e[c++]=240|g>>18;e[c++]=128|g>>12&63;e[c++]=128|g>>6&63;e[c++]=128|g&63;h++}}e[c]=0;return c-f},oa=(a,c,b,e)=>{var f={string:k=>{var l=0;if(null!==k&&void 0!==k&&0!==k){l=P(k)+1;var r=U(l);Q(k,r,l);l=r}return l},array:k=>{var l=U(k.length);y.set(k,l);return l}};
a=d["_"+a];var h=[],g=0;if(e)for(var m=0;m<e.length;m++){var t=f[b[m]];t?(0===g&&(g=ma()),h[m]=t(e[m])):h[m]=e[m]}b=a(...h);return b=function(k){0!==g&&na(g);return"string"===c?k?O(z,k):"":"boolean"===c?!!k:k}(b)},pa=a=>{var c=P(a)+1,b=V(c);b&&Q(a,b,c);return b};d.noExitRuntime&&(K=d.noExitRuntime);d.print&&(q=d.print);d.printErr&&(u=d.printErr);d.wasmBinary&&(v=d.wasmBinary);if(d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);0<d.preInit.length;)d.preInit.shift()();d.ccall=oa;
d.cwrap=(a,c,b,e)=>{var f=!b||b.every(h=>"number"===h||"boolean"===h);return"string"!==c&&f&&!e?d["_"+a]:(...h)=>oa(a,c,b,h,e)};d.UTF8ToString=(a,c,b)=>a?O(z,a,c,b):"";d.stringToUTF8=(a,c,b)=>Q(a,c,b);d.lengthBytesUTF8=P;d.allocateUTF8=(...a)=>pa(...a);
var V,W,X,qa,na,U,ma,D,ra={k:()=>E(""),j:()=>{K=!1;L=0},l:(a,c)=>{M[a]&&(clearTimeout(M[a].id),delete M[a]);if(!c)return 0;var b=setTimeout(()=>{delete M[a];ja(()=>qa(a,performance.now()))},c);M[a]={id:b,U:c};return 0},e:function(a,c,b){if(!(0<=a&&3>=a))return 28;B[b>>3]=BigInt(Math.round(1E6*(0===a?Date.now():performance.now())));return 0},g:function(a,c){a=a?O(z,a):"";fetch("articles/"+a).then(b=>b.text()).then(b=>{window.R||(window.R={});window.R[c]=b;X(c)}).catch(b=>{console.error("Error fetching article:",
b);window.R||(window.R={});window.R[c]="";X(c)})},n:function(){window.T?console.log("Articles already fetched, skipping"):(window.T=!0,window.S=null,window.R={},console.log("Fetching articles/index.json..."),fetch("articles/index.json").then(a=>a.json()).then(a=>{console.log("Articles fetched:",a);console.log('data["articles"]:',a.articles);a&&a.articles&&Array.isArray(a.articles)?window.S=a.articles:window.S=[];console.log("window.articlesData set to:",window.S);console.log("Calling _emOnArticlesLoaded with",
window.S.length,"articles");W()}).catch(a=>{console.error("Error fetching articles:",a);window.S=[];W()}))},f:function(a){window.R||(window.R={});var c=window.R[a]||"";delete window.R[a];a=P(c)+1;var b=V(a);Q(c,b,a);return b},a:function(a,c){if(!window.S||a>=window.S.length)return a=V(1),y[a]=0,a;c=c?O(z,c):"";c=window.S[a][c]||"";var b=P(c)+1;a=V(b);Q(c,a,b);return a},h:function(){return window.S?window.S.length:0},m:a=>{var c=z.length;a>>>=0;if(2147483648<a)return!1;for(var b=1;4>=b;b*=2){var e=
c*(1+.2/b);e=Math.min(e,a+100663296);a:{e=(Math.min(2147483648,65536*Math.ceil(Math.max(a,e)/65536))-D.buffer.byteLength+65535)/65536|0;try{D.grow(e);C();var f=1;break a}catch(h){}f=void 0}if(f)return!0}return!1},b:a=>{x=a;N(a)},c:function(){return 70},d:(a,c,b,e)=>{for(var f=0,h=0;h<b;h++){var g=A[c>>2],m=A[c+4>>2];c+=8;for(var t=0;t<m;t++){var k=a,l=z[g+t],r=ka[k];0===l||10===l?((1===k?q:u)(O(r)),r.length=0):r.push(l)}f+=m}A[e>>2]=f;return 0},i:N};
function Y(){function a(){d.calledRun=!0;if(!w){Z.p();d.onRuntimeInitialized?.();if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;){var c=d.postRun.shift();ea.push(c)}H(ea)}}if(0<I)J=Y;else{if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)ha();H(fa);0<I?J=Y:d.setStatus?(d.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>d.setStatus(""),1);a()},1)):a()}}var Z;
(async function(){function a(b){b=Z=b.exports;V=d._malloc=b.q;d._free=b.r;W=d._emOnArticlesLoaded=b.s;X=d._emOnArticleContentLoaded=b.t;d._emInit=b.u;d._emUpdate=b.v;d._emResize=b.w;d._emGetCell=b.x;d._emGetCellFgR=b.y;d._emGetCellFgG=b.z;d._emGetCellFgB=b.A;d._emGetCellBgR=b.B;d._emGetCellBgG=b.C;d._emGetCellBgB=b.D;d._emGetCellBold=b.E;d._emGetCellItalic=b.F;d._emGetCellUnderline=b.G;d._emHandleKeyPress=b.H;d._emHandleTextInput=b.I;d._emHandleMouseClick=b.J;d._emHandleMouseMove=b.K;d._emSetWaitingForGist=
b.L;d._emLoadMarkdownFromJS=b.M;qa=b.N;na=b.O;U=b.P;ma=b.Q;D=b.o;C();I--;d.monitorRunDependencies?.(I);0==I&&J&&(b=J,J=null,b());return Z}I++;d.monitorRunDependencies?.(I);var c={a:ra};if(d.instantiateWasm)return new Promise(b=>{d.instantiateWasm(c,(e,f)=>{b(a(e,f))})});F??=d.locateFile?d.locateFile("tstorie.wasm.wasm",n):n+"tstorie.wasm.wasm";return a((await da(c)).instance)})();Y();
